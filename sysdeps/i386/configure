# This file is generated from configure.in by Autoconf.  DO NOT EDIT!
 # Local configure fragment for sysdeps/i386.


{ echo "$as_me:$LINENO: checking if gcc provides <cpuid.h>" >&5
echo $ECHO_N "checking if gcc provides <cpuid.h>... $ECHO_C" >&6; }
if test "${libc_cv_gcc_cpuid+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat >conftest.$ac_ext <<_ACEOF
#include <cpuid.h>
_ACEOF
rm -f conftest.$ac_objext
if { (ac_try="$ac_compile"
case "(($ac_try" in
  *\"* | *\`* | *\\*) ac_try_echo=\$ac_try;;
  *) ac_try_echo=$ac_try;;
esac
eval "echo \"\$as_me:$LINENO: $ac_try_echo\"") >&5
  (eval "$ac_compile") 2>conftest.er1
  ac_status=$?
  grep -v '^ *+' conftest.er1 >conftest.err
  rm -f conftest.er1
  cat conftest.err >&5
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); } && {
	 test -z "$ac_c_werror_flag" ||
	 test ! -s conftest.err
       } && test -s conftest.$ac_objext; then
  libc_cv_gcc_cpuid=yes
else
  echo "$as_me: failed program was:" >&5
sed 's/^/| /' conftest.$ac_ext >&5

	libc_cv_gcc_cpuid=no
fi

rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
fi
{ echo "$as_me:$LINENO: result: $libc_cv_gcc_cpuid" >&5
echo "${ECHO_T}$libc_cv_gcc_cpuid" >&6; }
if test $libc_cv_gcc_cpuid != yes; then
  { { echo "$as_me:$LINENO: error: gcc must provide the <cpuid.h> header" >&5
echo "$as_me: error: gcc must provide the <cpuid.h> header" >&2;}
   { (exit 1); exit 1; }; }
fi

{ echo "$as_me:$LINENO: checking if -g produces usable source locations for assembler-with-cpp" >&5
echo $ECHO_N "checking if -g produces usable source locations for assembler-with-cpp... $ECHO_C" >&6; }
if test "${libc_cv_cpp_asm_debuginfo+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  cat > conftest.S <<EOF
#include "confdefs.h"

/* comment on
   two lines */
	${libc_cv_dot_text}
	${libc_cv_asm_global_directive} foo
foo:
	/* Unfortunately this test only works for a real instruction,
	   not for any of the machine-independent pseudo-ops.
	   So we just have to assume everybody has a "nop".  */
	nop
	/* comment */
	nop
	/* comment */
	nop
EOF
if { ac_try='${CC-cc} $CPPFLAGS $ASFLAGS -g -c conftest.S 1>&5'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; } && {
   ac_pattern='conftest\.S'
   { ac_try='readelf --debug-dump=line conftest.o |
		   grep $ac_pattern 1>&5'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }
  }; then
  libc_cv_cpp_asm_debuginfo=yes
else
  libc_cv_cpp_asm_debuginfo=no
fi
rm -f conftest*
fi
{ echo "$as_me:$LINENO: result: $libc_cv_cpp_asm_debuginfo" >&5
echo "${ECHO_T}$libc_cv_cpp_asm_debuginfo" >&6; }
if test $libc_cv_cpp_asm_debuginfo = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_CPP_ASM_DEBUGINFO 1
_ACEOF

fi

{ echo "$as_me:$LINENO: checking for SSE4 support" >&5
echo $ECHO_N "checking for SSE4 support... $ECHO_C" >&6; }
if test "${libc_cv_cc_sse4+set}" = set; then
  echo $ECHO_N "(cached) $ECHO_C" >&6
else
  if { ac_try='${CC-cc} -msse4 -xc /dev/null -S -o /dev/null'
  { (eval echo "$as_me:$LINENO: \"$ac_try\"") >&5
  (eval $ac_try) 2>&5
  ac_status=$?
  echo "$as_me:$LINENO: \$? = $ac_status" >&5
  (exit $ac_status); }; }; then
  libc_cv_cc_sse4=yes
else
  libc_cv_cc_sse4=no
fi
fi
{ echo "$as_me:$LINENO: result: $libc_cv_cc_sse4" >&5
echo "${ECHO_T}$libc_cv_cc_sse4" >&6; }
if test $libc_cv_cc_sse4 = yes; then
  cat >>confdefs.h <<\_ACEOF
#define HAVE_SSE4_SUPPORT 1
_ACEOF

fi
